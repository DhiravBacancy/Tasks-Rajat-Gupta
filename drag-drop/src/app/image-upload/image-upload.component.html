<div>
  @if (basicInformation.controls['imageUrl'].value && !isImageUploading) {
    <label class="form-label">Upload Image</label>
    <div
      class="text-center text-secondary draggable-key-image"
      style="padding: 14px"
      (drop)="handleDrop($event)"
      (dragover)="handleDragOver($event)"
      (dragleave)="handleDragLeave($event)"
    >
      <div class="d-flex align-items-start gap-3">
        <img
          alt="Icon of a picture inside a square representing an image file"
          [src]="basicInformation.controls['imageUrl'].value"
          width="100"
          height="100"
        />
        <div class="flex-grow-1 text-truncate text-start">
          <p class="mb-0 text-truncate fs-6 text-secondary py-1">
            {{ basicInformation.controls['imageName'].value || 'Image-file-name.png' }}
          </p>
          <p class="mb-0 text-muted small">
            {{ transform(basicInformation.controls['imageSize'].value) }}
          </p>
        </div>
        <div class="d-flex flex-column justify-content-between">
          <input
            type="file"
            class="d-none"
            accept="image/*"
            (change)="handleFileChange($event)"
            #createMenuPhotoInput
          />
          <span
            class="small text-dark pt-4 mt-2"
            (click)="createMenuPhotoInput.click()"
            role="button"
          >
            Replace Image
          </span>
          <span
            class="small text-dark pt-2"
            (click)="deleteImage()"
            role="button"
          >
            Remove Image
          </span>
        </div>
      </div>
    </div>
    <div *ngIf="imgErr.isErr" class="icurate-text-negative-5 small mt-2">
      {{ imgErr.text }}
    </div>
  } @else {
    <label class="form-label">Upload Image</label>
    @if (isImageUploading) {
      <div class="p-3 text-center text-secondary draggable-key-image">
        <div class="d-flex align-items-start gap-3">
          <img
            alt="Icon of a picture inside a square representing an image file"
            [src]="basicInformation.controls['imageUrl'].value"
            width="74"
            height="74"
          />
          <div class="flex-grow-1 text-truncate text-start">
            <p class="mb-0 text-truncate fs-6 text-secondary py-1">
              {{ basicInformation.controls['imageName'].value }}
            </p>
            <p class="mb-0 text-muted small">
              {{ transform(basicInformation.controls['imageSize'].value) }}
            </p>
          </div>
          <div class="d-flex flex-column justify-content-between">
            <div class="pt-4 mt-4"></div>
            <span class="small text-muted">Uploading...</span>
          </div>
        </div>
        <div
          class="progress"
          style="height: 4px; opacity: 0.5; margin-top: 18px; background-color: #e2e2e5"
        >
          <div
            class="progress-bar"
            [ngStyle]="{'background-color': '#23A49D', 'width': progress + '%'}"
            role="progressbar"
          ></div>
        </div>
      </div>
    } @else {
      <input
        type="file"
        class="d-none"
        accept="image/*"
        (change)="handleFileChange($event)"
        #createMenuPhotoInput
      />
      <div
        class="text-center text-secondary draggable-key-image"
        style="padding: 9.21px"
        (click)="createMenuPhotoInput.click()"
        (drop)="handleDrop($event)"
        (dragover)="handleDragOver($event)"
        (dragleave)="handleDragLeave($event)"
      >
        <img src="icons/create-recipe/basic-info/key-img.svg" alt="" />
        <p class="mb-1 text-dark pt-3">
          Drag & drop image or
          <a href="javascript:void(0);" class="text-primary-green">Browse</a>
        </p>
        <small>Accepted file types: JPEG, PNG (Max. 2mb)</small>
      </div>
      <div *ngIf="imgErr.isErr" class="icurate-text-negative-5 small mt-2">
        {{ imgErr.text }}
      </div>
    }
  }
</div>